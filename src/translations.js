export const translations = {
  en: {
    meta: {
      title: 'Rijschool-Preview',
    },
    nav: {
      brand: 'Rijschool-Preview',
      features: 'Features',
      philosophy: 'Philosophy',
      protocol: 'Protocol',
      pricing: 'Pricing',
      whatsapp: 'WhatsApp',
    },
    hero: {
      title1: 'Master the',
      title2: 'Roads.',
      subtitle: 'Precision handling, modern infrastructure, and absolute confidence. Welcome to the new standard of driving instruction.',
      cta: 'Contact via WhatsApp',
      imageAlt: 'Modern highway at dusk',
    },
    features: {
      title: 'Functional Advantages.',
      subtitle: 'Engineered for precision learning. Our methodology translates directly to confident driving.',
      diagnosticShuffler: {
        title: 'High Pass Rate',
        subtitle: 'Diagnostic Shuffler',
        cards: [
          { label: 'First-Time Pass Rate', value: '82%', color: 'bg-primary text-dark' },
          { label: 'National Average', value: '51%', color: 'bg-dark text-primary' },
          { label: 'Student Confidence', value: '100%', color: 'bg-accent text-background' },
        ],
      },
      telemetryTypewriter: {
        title: 'Patient Instructors',
        subtitle: 'Telemetry Typewriter',
        liveFeed: 'LIVE FEED',
        systemLine1: 'System: Rijschool-Preview v1.0',
        systemLine2: 'Session ID: #882-NL',
        systemLine3: 'Status: Tracking...',
        fullText: 'Instructor Log: Focus on clutch control during hill starts. Smooth transition noted. Steering correction applied during roundabout exit. Progress: Optimal. Next module: Highway merging protocol. // END',
      },
      protocolScheduler: {
        title: 'Flexible Scheduling',
        subtitle: 'Cursor Protocol',
        nextWeek: 'Next Week',
        eveningWknd: 'EVENING/WKND',
        confirmSlots: 'Confirm Slots',
        days: ['S', 'M', 'T', 'W', 'T', 'F', 'S'],
      },
    },
    philosophy: {
      phrase1: 'Most driving schools focus on: rushed hours and minimal instruction.',
      phrase2Words: [
        { text: 'We', accent: false },
        { text: 'focus', accent: false },
        { text: 'on:', accent: false },
        { text: 'precision', accent: true },
        { text: 'handling', accent: false },
        { text: 'and', accent: false },
        { text: 'absolute', accent: true },
        { text: 'confidence.', accent: true },
      ],
      imageAlt: 'Concrete texture',
    },
    protocol: {
      title: 'The Methodology.',
      subtitle: 'A strict, protocol-driven approach to mastering the vehicle and the environment.',
      stepLabel: 'STEP',
      steps: [
        {
          step: '01',
          title: 'Trial & Evaluation',
          desc: 'A rigorous initial assessment to map your baseline reflexes, spatial awareness, and learning curve.',
          animType: 'geometric',
        },
        {
          step: '02',
          title: 'Structured Lessons',
          desc: 'Systematic modules targeting precise maneuvers. We break down complex traffic scenarios into logical sub-tasks.',
          animType: 'laser',
        },
        {
          step: '03',
          title: 'Final Exam Prep',
          desc: 'Simulated exam conditions to stress-test your confidence under pressure. Absolute readiness.',
          animType: 'waveform',
        },
      ],
    },
    pricing: {
      title: 'Transparent Structuring.',
      subtitle: 'Select the protocol that fits your baseline.',
      optimalPath: 'OPTIMAL PATH',
      plans: [
        {
          name: 'Starter',
          price: '€ 45',
          unit: '/ lesson',
          desc: 'For those who want to start slow.',
          features: ['10 Practical lessons', 'Basic theory access', 'Standard support'],
          cta: 'Choose Starter',
          isPopular: false,
        },
        {
          name: 'Advanced',
          price: '€ 850',
          unit: 'package',
          desc: 'The most optimal route to your license.',
          features: ['20 Practical lessons', 'Premium theory & mock exams', 'Priority scheduling', 'CBR Exam included'],
          cta: 'Choose Advanced',
          isPopular: true,
        },
        {
          name: 'Guarantee',
          price: '€ 1200',
          unit: 'package',
          desc: 'Absolute certainty. We won\'t stop until you pass.',
          features: ['Unlimited lessons', 'All theory materials', 'CBR Exam + Retakes', 'Personal coach'],
          cta: 'Choose Guarantee',
          isPopular: false,
        },
      ],
    },
    footer: {
      brand: 'Rijschool-Preview',
      tagline: 'Precision handling, modern infrastructure, and absolute confidence.',
      contactSupport: 'Contact Support',
      navigation: 'Navigation',
      legal: 'Legal',
      features: 'Features',
      philosophy: 'Philosophy',
      protocol: 'Protocol',
      pricing: 'Pricing',
      termsOfService: 'Terms of Service',
      privacyPolicy: 'Privacy Policy',
      cookieProtocol: 'Cookie Protocol',
      copyright: 'Rijschool-Preview. All rights reserved.',
      systemOperational: 'System Operational',
    },
  },
  nl: {
    meta: {
      title: 'Rijschool-Preview',
    },
    nav: {
      brand: 'Rijschool-Preview',
      features: 'Voordelen',
      philosophy: 'Filosofie',
      protocol: 'Protocol',
      pricing: 'Tarieven',
      whatsapp: 'WhatsApp',
    },
    hero: {
      title1: 'Beheers de',
      title2: 'Wegen.',
      subtitle: 'Precieze beheersing, moderne infrastructuur en absoluut vertrouwen. Welkom bij de nieuwe standaard in rijopleiding.',
      cta: 'Contact via WhatsApp',
      imageAlt: 'Moderne snelweg bij schemer',
    },
    features: {
      title: 'Functionele voordelen.',
      subtitle: 'Ontworpen voor precies leren. Onze aanpak vertaalt zich direct naar zelfverzekerd rijden.',
      diagnosticShuffler: {
        title: 'Hoge slagingspercentage',
        subtitle: 'Diagnostische Shuffler',
        cards: [
          { label: 'Slagingspercentage eerste keer', value: '82%', color: 'bg-primary text-dark' },
          { label: 'Landelijk gemiddelde', value: '51%', color: 'bg-dark text-primary' },
          { label: 'Zelfvertrouwen leerling', value: '100%', color: 'bg-accent text-background' },
        ],
      },
      telemetryTypewriter: {
        title: 'Geduldige instructeurs',
        subtitle: 'Telemetrie Typewriter',
        liveFeed: 'LIVE',
        systemLine1: 'Systeem: Rijschool-Preview v1.0',
        systemLine2: 'Sessie-ID: #882-NL',
        systemLine3: 'Status: Volgen...',
        fullText: 'Instructeurlog: Focus op koppelingsbediening bij hellingstart. Soepele overgang genoteerd. Stuurcorrectie toegepast bij rotonde-uitrit. Voortgang: Optimaal. Volgende module: Snelweg invoegen protocol. // EINDE',
      },
      protocolScheduler: {
        title: 'Flexibel plannen',
        subtitle: 'Cursor Protocol',
        nextWeek: 'Volgende week',
        eveningWknd: 'AVOND/WEEKEND',
        confirmSlots: 'Bevestig tijden',
        days: ['Z', 'M', 'D', 'W', 'D', 'V', 'Z'],
      },
    },
    philosophy: {
      phrase1: 'De meeste rijscholen richten zich op: gehaaste uren en minimale instructie.',
      phrase2Words: [
        { text: 'Wij', accent: false },
        { text: 'richten', accent: false },
        { text: 'ons', accent: false },
        { text: 'op:', accent: false },
        { text: 'precieze', accent: true },
        { text: 'beheersing', accent: false },
        { text: 'en', accent: false },
        { text: 'absoluut', accent: true },
        { text: 'vertrouwen.', accent: true },
      ],
      imageAlt: 'Betontextuur',
    },
    protocol: {
      title: 'De methodiek.',
      subtitle: 'Een strikte, protocolgestuurde aanpak om het voertuig en de omgeving te beheersen.',
      stepLabel: 'STAP',
      steps: [
        {
          step: '01',
          title: 'Proefles & evaluatie',
          desc: 'Een grondige eerste beoordeling om je basisreflexen, ruimtelijk inzicht en leercurve in kaart te brengen.',
          animType: 'geometric',
        },
        {
          step: '02',
          title: 'Gestructureerde lessen',
          desc: 'Systematische modules voor precieze manoeuvres. We breken complexe verkeerssituaties op in logische deeltaken.',
          animType: 'laser',
        },
        {
          step: '03',
          title: 'Voorbereiding examen',
          desc: 'Examenomstandigheden in oefenvorm om je vertrouwen onder druk te testen. Absolute gereedheid.',
          animType: 'waveform',
        },
      ],
    },
    pricing: {
      title: 'Transparante structuur.',
      subtitle: 'Kies het protocol dat bij je past.',
      optimalPath: 'OPTIMALE ROUTE',
      plans: [
        {
          name: 'Starter',
          price: '€ 45',
          unit: '/ les',
          desc: 'Voor wie rustig wil beginnen.',
          features: ['10 Praktijklessen', 'Basis theorie-toegang', 'Standaard ondersteuning'],
          cta: 'Kies Starter',
          isPopular: false,
        },
        {
          name: 'Advanced',
          price: '€ 850',
          unit: 'pakket',
          desc: 'De meest optimale route naar je rijbewijs.',
          features: ['20 Praktijklessen', 'Premium theorie & proefexamens', 'Prioriteit bij plannen', 'CBR-examen inbegrepen'],
          cta: 'Kies Advanced',
          isPopular: true,
        },
        {
          name: 'Guarantee',
          price: '€ 1200',
          unit: 'pakket',
          desc: 'Absolute zekerheid. We stoppen niet tot je bent geslaagd.',
          features: ['Onbeperkte lessen', 'Alle theoriematerialen', 'CBR-examen + herexamens', 'Persoonlijke coach'],
          cta: 'Kies Guarantee',
          isPopular: false,
        },
      ],
    },
    footer: {
      brand: 'Rijschool-Preview',
      tagline: 'Precieze beheersing, moderne infrastructuur en absoluut vertrouwen.',
      contactSupport: 'Contact opnemen',
      navigation: 'Navigatie',
      legal: 'Juridisch',
      features: 'Voordelen',
      philosophy: 'Filosofie',
      protocol: 'Protocol',
      pricing: 'Tarieven',
      termsOfService: 'Algemene voorwaarden',
      privacyPolicy: 'Privacybeleid',
      cookieProtocol: 'Cookie-protocol',
      copyright: 'Rijschool-Preview. Alle rechten voorbehouden.',
      systemOperational: 'Systeem operationeel',
    },
  },
};

const STORAGE_KEY = 'locale';

export function getStoredLocale() {
  try {
    const stored = localStorage.getItem(STORAGE_KEY);
    if (stored === 'en' || stored === 'nl') return stored;
  } catch (_) {}
  return 'nl';
}

export function setStoredLocale(locale) {
  try {
    localStorage.setItem(STORAGE_KEY, locale);
  } catch (_) {}
}

/**
 * Resolve a dot/bracket path into the translations object.
 * e.g. t('nav.features') -> "Features"
 *      t('pricing.plans') -> array
 */
export function getTranslation(locale, key) {
  const obj = translations[locale] ?? translations.en;
  const parts = key.replace(/\[(\d+)\]/g, '.$1').split('.');
  let current = obj;
  for (const part of parts) {
    if (current == null) return key;
    const next = part.match(/^\d+$/) ? current[parseInt(part, 10)] : current[part];
    current = next;
  }
  return current == null ? key : current;
}
